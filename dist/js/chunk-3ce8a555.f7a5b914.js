(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ce8a555"],{"4de5":function(t,a,s){},"5e58":function(t,a,s){"use strict";s("a0dd")},"6a6a":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"search"},[s("van-nav-bar",{attrs:{fixed:!0,title:"搜索","right-text":"书城","left-text":"返回","left-arrow":""},on:{"click-left":t.goBack}}),s("div",{staticClass:"nav"},[s("div",{staticClass:"nav-back"},[s("van-icon",{attrs:{name:"arrow-left",size:"26",color:"#ccc"}})],1),s("div",{staticClass:"nav-s"},[s("van-search",{attrs:{placeholder:"请输入小说名",shape:"round",autofocus:"true"},on:{input:function(a){return t.confirmSearch()}},model:{value:t.value,callback:function(a){t.value=a},expression:"value"}})],1),s("div",{staticClass:"nav-cli",on:{click:t.confirmSearch}},[t._v("确定")])]),s("div",{staticClass:"content"},[s("div",{staticClass:"hot"},[s("div",{staticClass:"hot-head clearfix"},[s("div",{staticClass:"hot-title fl"},[t._v("搜索热词")]),s("div",{staticClass:"hot-more fr",on:{click:t.randomArr}},[s("span",[t._v("换一批")]),s("span",[s("van-icon",{attrs:{name:"replay"}})],1)])]),s("ul",{staticClass:"hot-label clearfix"},t._l(t.hotwords,(function(a,i){return s("li",{key:i,on:{click:function(s){return t.sHot(a.word)}}},[t._v(" "+t._s(a.word)+" ")])})),0)])]),s("div",{staticClass:"history-box"},[s("div",{staticClass:"history-head clearfix"},[s("div",{staticClass:"history-title fl"},[t._v("搜索历史")]),s("div",{staticClass:"history-right fr clearfix"},[s("div",{staticClass:"fl history-text"},[t._v("删除历史")]),s("div",{staticClass:"fr history-icon"},[s("van-icon",{attrs:{name:"delete"}})],1)])])]),s("ul",{directives:[{name:"show",rawName:"v-show",value:t.iShow,expression:"iShow"}],staticClass:"search-list"},t._l(t.searchListData,(function(a,i){return s("li",{key:i,on:{click:function(s){return t.cList(a)}}},[s("van-icon",{attrs:{name:"orders-o"}}),t._v(" "+t._s(a.title)+" ")],1)})),0)],1)},r=[],e=(s("4de5"),{data:function(){return{value:"",allSearchData:"",hotwords:"",length:8,searchListData:[],iShow:!1}},created:function(){this.searchWord()},methods:{goBack:function(){this.$router.go(-1)},searchWord:function(){var t=this;this.axios({method:"GET",url:"/search-hotwords"}).then((function(a){var s=[];t.allSearchData=a.data.searchHotWords;for(var i=0;i<t.length;i++)s.push(t.allSearchData[i]);t.hotwords=s})).catch((function(a){t.$toast.clear()}))},randomArr:function(){this.allSearchData.sort((function(){return Math.random()-.5}));for(var t=[],a=0;a<this.length;a++)t.push(this.allSearchData[a]);this.hotwords=t},confirmSearch:function(){var t=this;""!=this.value?this.axios({method:"GET",url:"/search",params:{keyword:this.value}}).then((function(a){t.iShow=!0;var s=a.data.books.length>10?10:a.data.books.length;t.searchListData=[];for(var i=0;i<s;i++)t.searchListData.push(a.data.books[i])})).catch((function(a){t.$toast.clear()})):this.iShow=!1},cList:function(t){this.$router.push({name:"Relevant",query:{title:t.title}})},sHot:function(t){this.value=t,this.confirmSearch()}},components:{}}),o=e,c=(s("5e58"),s("2877")),n=Object(c["a"])(o,i,r,!1,null,"747683c6",null);a["default"]=n.exports},a0dd:function(t,a,s){}}]);
//# sourceMappingURL=chunk-3ce8a555.f7a5b914.js.map