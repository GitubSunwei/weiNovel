{"version":3,"sources":["webpack:///./src/views/Relevant.vue?1db9","webpack:///src/views/Relevant.vue","webpack:///./src/views/Relevant.vue?9559","webpack:///./src/views/Relevant.vue","webpack:///./src/views/Relevant.vue?951d","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","on","goBack","_l","item","index","key","$event","goDetail","cover","_v","_s","author","cat","shortIntro","retentionRatio","staticRenderFns","data","type","serchCon","created","$route","query","searchCon","methods","$router","go","axios","method","url","params","keyword","push","component","fails","module","exports","METHOD_NAME","argument","call","DESCRIPTORS","has","defineProperty","Object","cache","thrower","it","options","ACCESSORS","argument0","argument1","undefined","O","length","enumerable","get","$","$indexOf","indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","1","target","proto","forced","searchElement","apply","arguments"],"mappings":"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","file":"js/chunk-4a6d0632.9ec8d832.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"relevant\"},[_c('van-nav-bar',{attrs:{\"fixed\":true,\"title\":_vm.title,\"right-text\":\"书城\",\"left-text\":\"返回\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.goBack}}),_c('ul',{staticClass:\"fav-books\"},_vm._l((_vm.serchCon),function(item,index){return _c('li',{key:index,staticClass:\"book-card-item\",on:{\"click\":function($event){return _vm.goDetail(item)}}},[_c('img',{staticClass:\"book-card-img\",attrs:{\"src\":item.cover,\"alt\":\"\"}}),_c('div',{staticClass:\"book-detail\"},[_c('h5',[_vm._v(_vm._s(item.title))]),_c('span',{staticClass:\"book-auto\"},[_vm._v(_vm._s(item.author)+\" | \")]),_c('span',{staticClass:\"book-class\"},[_vm._v(_vm._s(item.cat))]),_c('p',[_vm._v(_vm._s(item.shortIntro))]),_c('span',{staticClass:\"book-num\"},[_vm._v(\"284万字 | \")]),_c('span',{staticClass:\"book-old\"},[_c('span',{staticClass:\"keep\"},[_vm._v(_vm._s(item.retentionRatio)+\"%\")]),_vm._v(\" 留存率\")])])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"relevant\">\r\n    <van-nav-bar\r\n      :fixed=\"true\"\r\n      :title=\"title\"\r\n      right-text=\"书城\"\r\n      left-text=\"返回\"\r\n      left-arrow\r\n      @click-left=\"goBack\"\r\n    ></van-nav-bar>\r\n    <ul class=\"fav-books\">\r\n      <li @click=\"goDetail(item)\" class=\"book-card-item\" v-for=\"(item, index) in serchCon\" :key=\"index\">\r\n        <img\r\n          class=\"book-card-img\"\r\n          :src=\"item.cover\"\r\n          alt\r\n        />\r\n        <div class=\"book-detail\">\r\n          <h5>{{ item.title }}</h5>\r\n          <span class=\"book-auto\">{{ item.author }} | </span>\r\n          <span class=\"book-class\">{{ item.cat }}</span>\r\n          <p>{{ item.shortIntro }}</p>\r\n          <span class=\"book-num\">284万字 | </span>\r\n          <span class=\"book-old\">\r\n            <span class=\"keep\">{{ item.retentionRatio }}%</span>\r\n            留存率</span\r\n          >\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      title: \"\",\r\n      type: \"\",\r\n      serchCon: [],\r\n    };\r\n  },\r\n  created() {\r\n    \r\n    this.type = this.$route.query.title;\r\n    this.title = \"跟'\" + this.$route.query.title + \"'有关书籍\";\r\n    this.searchCon();\r\n  },\r\n  methods: {\r\n    // 返回上一级\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n\r\n    searchCon() {\r\n      this.axios({\r\n        method: \"GET\",\r\n        url: \"/search\",\r\n        params: {\r\n          keyword: this.type,\r\n        },\r\n      })\r\n        .then((result) => {\r\n          \r\n          let containerData = result.data.books;\r\n\r\n          for (let i = 0; i < containerData.length; i++) {\r\n            let start = containerData[i].cover.indexOf(\"http\");\r\n            containerData[i].cover = 'https://statics.zhuishushenqi.com'+containerData[i].cover\r\n          }\r\n\r\n          let length =\r\n            result.data.books.length > 10 ? 10 : result.data.books.length;\r\n          this.serchCon = [];\r\n          for (let i = 0; i < length; i++) {\r\n            this.serchCon.push(result.data.books[i]);\r\n          }\r\n          \r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n        });\r\n    },\r\n    // 进入详情界面\r\n    goDetail(item){\r\n      let bookId = item._id;\r\n      \r\n      this.$router.push({name:'Detail', query: {bookId}})\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\nvan-ellipsis {\r\n  font-size: 14px;\r\n}\r\n.fav-books {\r\n  li {\r\n    height: 98px;\r\n    padding: 15px 0 15px 15px;\r\n    border-bottom: 1px solid #e7e7e7;\r\n    background-color: #f5f2ed;\r\n\r\n    .book-card-img {\r\n      width: 70px;\r\n      float: left;\r\n      margin-right: 15px;\r\n      box-shadow: 0 2px 1px 2px rgba(0, 0, 0, 0.15);\r\n      border-radius: 2px;\r\n    }\r\n\r\n    .book-detail {\r\n      float: left;\r\n      height: 98px;\r\n      width: calc(~\"100% - 85px\");\r\n    }\r\n    span {\r\n      color: #999;\r\n    }\r\n    .keep {\r\n      color: red;\r\n    }\r\n    .book-add-title {\r\n      line-height: 100px;\r\n      font-size: 16px;\r\n    }\r\n\r\n    h5 {\r\n      font-size: 14px;\r\n      margin: 5px 0;\r\n    }\r\n    p {\r\n      color: #999;\r\n      white-space: nowrap;\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      font-size: 10px;\r\n      margin: 5px 0;\r\n    }\r\n\r\n    .book-add {\r\n      float: left;\r\n      width: 70px;\r\n      height: 100px;\r\n      background-color: #e7e7e7;\r\n      margin-right: 15px;\r\n      position: relative;\r\n\r\n      &::before {\r\n        position: absolute;\r\n        content: \"\";\r\n        display: block;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 30px;\r\n        height: 2px;\r\n        background-color: #999;\r\n      }\r\n      &::after {\r\n        position: absolute;\r\n        content: \"\";\r\n        display: block;\r\n        top: 50%;\r\n        left: 50%;\r\n        transform: translate(-50%, -50%);\r\n        width: 2px;\r\n        height: 30px;\r\n        background-color: #999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Relevant.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Relevant.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Relevant.vue?vue&type=template&id=6c4262d8&scoped=true&\"\nimport script from \"./Relevant.vue?vue&type=script&lang=js&\"\nexport * from \"./Relevant.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Relevant.vue?vue&type=style&index=0&id=6c4262d8&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c4262d8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Relevant.vue?vue&type=style&index=0&id=6c4262d8&lang=less&scoped=true&\"","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}